[gd_scene load_steps=12 format=3 uid="uid://bpvhc430uq0u6"]

[ext_resource type="Script" uid="uid://b6wy1r08i03jb" path="res://scenes/world.gd" id="1_71j4m"]
[ext_resource type="PackedScene" uid="uid://dap5woe8wwbxl" path="res://scenes/car.tscn" id="1_rwgxs"]
[ext_resource type="PackedScene" uid="uid://q1ms5ivasoj0" path="res://scenes/enemy.tscn" id="2_4wyf3"]
[ext_resource type="Script" uid="uid://bwr3vsp7kgqgj" path="res://scripts/camera_2d.gd" id="2_k0juu"]
[ext_resource type="PackedScene" uid="uid://ovpmsigldn2t" path="res://scenes/spawner.tscn" id="3_4wyf3"]
[ext_resource type="Texture2D" uid="uid://bi1op8bu2kc43" path="res://assets/mapbatiments2.png" id="5_w7kh3"]
[ext_resource type="Texture2D" uid="uid://bp8jimkigdbt8" path="res://assets/Roads.png" id="6_4mrxx"]
[ext_resource type="PackedScene" uid="uid://cwnqw087s7rsr" path="res://scenes/cadran.tscn" id="7_i7141"]
[ext_resource type="Shader" uid="uid://ba4lfsq1soo0m" path="res://shaders/CRT.gdshader" id="8_7r4gi"]
[ext_resource type="Texture2D" uid="uid://cs8kcyabcapjp" path="res://assets/Black car.png" id="10_w7kh3"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_w7kh3"]
shader = ExtResource("8_7r4gi")

[node name="World" type="Node2D"]
script = ExtResource("1_71j4m")

[node name="Road" type="Sprite2D" parent="."]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("6_4mrxx")

[node name="Buildings" type="Sprite2D" parent="."]
z_index = 3
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("5_w7kh3")

[node name="Cadran" parent="." instance=ExtResource("7_i7141")]

[node name="ColorRect" type="ColorRect" parent="Cadran"]
material = SubResource("ShaderMaterial_w7kh3")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="Car" parent="." instance=ExtResource("1_rwgxs")]
position = Vector2(762, -26)

[node name="Camera2D" type="Camera2D" parent="Car"]
position_smoothing_enabled = true
rotation_smoothing_enabled = true
script = ExtResource("2_k0juu")

[node name="Spawner" parent="." instance=ExtResource("3_4wyf3")]
enemy_scene = ExtResource("2_4wyf3")
spawn_interval = 0.1

[node name="TimerLevel" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[node name="Car1" type="Sprite2D" parent="."]
z_index = 3
texture_filter = 1
position = Vector2(445, -49)
scale = Vector2(4, 4)
texture = ExtResource("10_w7kh3")

[node name="Car2" type="Sprite2D" parent="Car1"]
z_index = 3
texture_filter = 1
position = Vector2(15, 8)
texture = ExtResource("10_w7kh3")

[node name="Car2" type="Sprite2D" parent="Car1/Car2"]
z_index = 3
texture_filter = 1
position = Vector2(16, 8)
texture = ExtResource("10_w7kh3")

[node name="Car2" type="Sprite2D" parent="Car1/Car2/Car2"]
z_index = 3
texture_filter = 1
position = Vector2(15, 8)
texture = ExtResource("10_w7kh3")

[node name="Car3" type="Sprite2D" parent="Car1/Car2/Car2/Car2"]
z_index = 3
texture_filter = 1
position = Vector2(7, -53)
texture = ExtResource("10_w7kh3")

[node name="Car4" type="Sprite2D" parent="Car1/Car2/Car2/Car2/Car3"]
z_index = 3
texture_filter = 1
position = Vector2(15, 8)
texture = ExtResource("10_w7kh3")

[node name="Car5" type="Sprite2D" parent="Car1/Car2/Car2/Car2/Car3/Car4"]
z_index = 3
texture_filter = 1
position = Vector2(54, 27)
texture = ExtResource("10_w7kh3")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 3

[node name="Parking" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(548, -242.99998)
scale = Vector2(3.9342818, 3.5530305)
polygon = PackedVector2Array(14.742218, 98.788895, 39.143112, 85.279305, -22.875832, 51.505318, -45.243317, 64.17056)

[node name="Parking2" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(757, -359.00003)
scale = Vector2(3.9342818, 3.5530305)
polygon = PackedVector2Array(-16.013092, 79.08742, 8.641983, 65.29637, -20.334076, 52.06823, -44.48079, 63.044765)

[node name="Parking3" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(1031, -222.00002)
scale = Vector2(3.9342818, 3.5530305)
polygon = PackedVector2Array(-30.50113, 70.92537, -6.3544006, 57.697224, -20.842438, 52.631126, -44.48079, 63.044765)

[node name="Quartier" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-293, 340, 19, 499, 342, 337, -6, 201)

[node name="Quartier2" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(675, 335)
polygon = PackedVector2Array(-307, 336, 19, 499, 329, 343, -4, 180, -272, 313)

[node name="Quartier3" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(675, 335)
polygon = PackedVector2Array(-967, 679, -675, 832, -357, 677, -674, 559, -924, 661)

[node name="Quartier4" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(3, 0)
polygon = PackedVector2Array(-984, 674, -692, 828, -346, 661, -657, 503, -875, 615)

[node name="Quartier5" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-19, -667)
polygon = PackedVector2Array(-291, 338, 19, 499, 335, 344, 12, 197)

[node name="Quartier6" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(649, -1014)
polygon = PackedVector2Array(-297, 339, 19, 499, 351, 335, 23, 188)

[node name="Quartier7" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-19, -1351)
polygon = PackedVector2Array(-297, 339, 19, 499, 351, 335, 23, 188)

[node name="Quartier8" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-686, -1014)
polygon = PackedVector2Array(-297, 339, 19, 499, 351, 335, 23, 188)

[node name="Quartier9" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-1532, -1449)
polygon = PackedVector2Array(-297, 339, -85, 441, -19, 419, 163, 482, 80, 527, 138, 554, 392, 471, 255, 385, 250, 298, 23, 188)

[node name="Quartier10" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-3396, -2376)
polygon = PackedVector2Array(-138, 429, 28, 509, 176, 437, 158, 416, 295, 350, 65, 220, -140, 317, -38, 371)

[node name="Quartier12" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4216, -2004)
polygon = PackedVector2Array(144, 458, 411, 328, 410, 262, 170, 154, -140, 317)

[node name="Quartier13" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4652, -2339)
polygon = PackedVector2Array(-41, 366, 11, 341, -83, 289, -140, 317)

[node name="Quartier25" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-5076, -1965)
polygon = PackedVector2Array(-93, 342, 6, 292, -46, 270, -140, 317)

[node name="Quartier22" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-5573, -2667)
polygon = PackedVector2Array(-41, 366, 11, 341, -83, 289, -140, 317)

[node name="Quartier26" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-6063, -2905)
polygon = PackedVector2Array(-85, 343, 64, 268, 25, 242, 108, 199, 182, 244, 122, 141, 61, 145, -25, 201, -24, 249, -140, 317)

[node name="Quartier24" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-5972, -2454)
polygon = PackedVector2Array(-352, 466, -254, 421, -220, 434, -220, 516, -174, 539, -79, 492, 71, 571, 6, 631, 129, 696, 230, 643, 319, 704, 251, 748, 395, 822, 493, 754, 575, 815, 498, 875, 599, 926, 654, 897, 577, 816, 770, 698, 553, 590, 482, 647, 427, 603, 449, 587, 301, 499, 246, 528, 181, 483, 237, 444, -37, 283, -128, 283, -402, 438)

[node name="Quartier23" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-5388, -2607)
polygon = PackedVector2Array(-7, 388, 93, 339, 59, 320, 194, 240, 290, 288, 344, 262, 204, 189, 58, 116, -39, 116, -86, 144, -88, 183, -135, 213, -138, 318)

[node name="Quartier17" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4209, -1320)
polygon = PackedVector2Array(11, 392, 59, 366, -81, 292, -140, 317)

[node name="Quartier21" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-5339, -1429)
polygon = PackedVector2Array(11, 392, 59, 366, -81, 292, -140, 317)

[node name="Quartier19" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-3267, -1793)
polygon = PackedVector2Array(11, 392, 59, 366, -81, 292, -140, 317)

[node name="Quartier20" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-2856, -1997)
polygon = PackedVector2Array(11, 392, 59, 366, -81, 292, -140, 317)

[node name="Quartier18" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4286, -1315)
polygon = PackedVector2Array(191, 24, 365, -59, 339, -72, 406, -106, 549, -38, 601, -63, 403, -171, 90, -26)

[node name="Quartier16" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4396, -1658)
polygon = PackedVector2Array(67, 418, 162, 371, -40, 273, -140, 317)

[node name="Quartier15" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4631, -1775)
polygon = PackedVector2Array(-105, 399, 11, 341, -81, 303, -344, 438, -244, 488, -194, 461, -233, 422, -150, 377)

[node name="Quartier14" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-4778, -2434)
polygon = PackedVector2Array(570, 66, 615, 44, 756, 111, 811, 87, 926, 140, 1033, 89, 572, -161, 501, -124, 666, -46, 513, 38)

[node name="Quartier11" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-2784, -936)
polygon = PackedVector2Array(133, 681, 885, 341, 878, 266, 922, 233, 559, 18, 361, 127, 357, 228, 43, 393, -132, 356, -316, 209, -415, 124, -264, 51, -110, 25, 3, -26, 19, -90, 121, -147, 62, -187, 128, -225, -54, -314, -740, 16, -1009, 134, -999, 219, -372, 506, -122, 568)
